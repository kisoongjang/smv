# SMV-UCS-200-002-방문자\_임시\_출입카드\_회수

## 일반
| Key   | 설명 |
|-------| :-- |
| ID    | SMV-UCS-200-002 |
| Name  | 방문자 임시 출입카드 회수 |
| Actor | 리셉셔니스트, 보안담당자 |

## 개요
가입된 사용자가 발급된 방문자용 임시 출입카드를 회수하고 회수 정보를 애플리케이션을 통해 기록한다.

## 조건
### 선행 조건
* Actor는 직원이어야 한다
* Actor는 로그인 성공 상태이어야 한다
* 카드 회수를 위해서는 방문 기록이 있어야 한다
  
### 후행 조건
* 없음

### 특별 요청 사항
* 없음

## 이벤트 흐름

### 정상 흐름
* 로그인 성공
	1. ACTOR: 회수한 카드 정보를 이용하여 방문 기록 정보를 조회한다
	2. SYSTEM: 회수한 카드를 발급한 제일 최신 방문 기록 정보를 보여준다.
	3. ACTOR: 카드 회수를 완료한다
	3. SYSTEM: 방문 기록 정보에 카드 회수 정보를 업데이트하며, 임시 출입 카드 정보도 회수된 것으로 업데이트 한다.

### 대안 흐름
* 로그인 세션이 없는 경우
	* 로그인 페이지로 이동 요청한다
* 회수된 카드와 대응되는 방문 기록이 없는 경우
	* `해당 출입 카드에 대한 방문 기록이 없습니다. 관리자에게 문의하세요` 메시지를 보여준다